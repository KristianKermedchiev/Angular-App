<div class="calorie-calculator" *ngIf="showCalculator">
  <div class="center">
    <h2>Calorie Calculator</h2>
  </div>
  <div class="content-container">
    <div class="text-container">
      <div class="instructions">
        <h3>Instructions:</h3>
        <p>Enter your age, sex, height, weight, activity level, and optional body fat percentage.</p>
        <p>Click the "Calculate" button to estimate your Basal Metabolic Rate (BMR).</p>
      </div>

      <div class="exercise-descriptions">
        <h3>Exercise Descriptions:</h3>
        <ul>
          <p>Exercise: 15-30 minutes of elevated heart rate activity.</p>
          <p>Intense exercise: 45-120 minutes of elevated heart rate activity.</p>
          <p>Very intense exercise: 2+ hours of elevated heart rate activity.</p>
        </ul>
      </div>

      <div class="formula-explanation">
        <h3>Formula Explanation:</h3>
        <p>Mifflin-St Jeor Equation:</p>
        <p>For men: BMR = 10W + 6.25H - 5A + 5</p>
        <p>For women: BMR = 10W + 6.25H - 5A - 161</p>
      </div>
    </div>

    <div class="form-container">
      <form [formGroup]="calorieForm" (ngSubmit)="calculateBMR()">
        <div class="form-group">
          <label>Age:</label>
          <input type="text" formControlName="age" class="form-control" />
        </div>
        <div class="form-group">
          <label>Sex:</label>
          <select formControlName="sex" class="form-control">
            <option value="m">Male</option>
            <option value="f">Female</option>
          </select>
        </div>
        <div class="form-group">
          <label>Height (cm):</label>
          <input type="text" formControlName="height" class="form-control" />
        </div>
        <div class="form-group">
          <label>Weight (kg):</label>
          <input type="text" formControlName="weight" class="form-control" />
        </div>
        <div class="form-group">
          <label>Activity Level:</label>
          <select formControlName="activity" class="form-control">
            <option value="1.2">Sedentary (little or no exercise)</option>
            <option value="1.375">Lightly active (light exercise/sports 1-3 days/week)</option>
            <option value="1.55">Moderately active (moderate exercise/sports 3-5 days/week)</option>
            <option value="1.725">Very active (hard exercise/sports 6-7 days/week)</option>
            <option value="1.9">Extra active (very hard exercise/sports & physical job)</option>
          </select>
        </div>
        <div class="result-container">
          <h3>Basal Metabolic Rate: {{ bmr }} </h3>
          <h3>Result: {{ result }} </h3>
          <p id="result"></p>
        </div>
        <div class="message" [ngClass]="{ 'error': isError}">
          {{ nutritionMessage }}
      </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Calculate</button>
        </div>
      </form>
    </div>
  </div>
</div>